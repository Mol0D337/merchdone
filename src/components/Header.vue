<template>
  <header class="header">
    <div class="header__left">
      <svg @click="routeHome" width="95" height="46" viewBox="0 0 95 46" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.199402 16.8579V0.345709C0.199402 0.199466 0.265877 0.132996 0.41212 0.132996H3.29709C3.36357 0.132996 3.49651 0.186173 3.5364 0.305826L8.6416 14.0128H8.73467L13.7734 0.305826C13.8266 0.186173 13.9462 0.132996 14.0393 0.132996H16.9509C17.0971 0.132996 17.1636 0.199466 17.1636 0.345709V16.8711C17.1636 17.0174 17.0971 17.0839 16.9509 17.0839H15.0896C14.9699 17.0839 14.8769 17.0174 14.8769 16.8711V3.32375H14.8104L9.83813 16.911C9.78495 17.0307 9.69189 17.0839 9.57224 17.0839H7.75085C7.6312 17.0839 7.55143 17.0307 7.51154 16.911L2.55258 3.32375H2.45952V16.8579C2.45952 17.0041 2.39304 17.0706 2.2601 17.0706H0.425413C0.27917 17.0839 0.199402 17.0041 0.199402 16.8579Z" fill="#313131"/>
        <path d="M24.0104 16.8579V0.345709C24.0104 0.199466 24.0769 0.132996 24.2231 0.132996H34.7659C34.8855 0.132996 34.9786 0.199466 34.9786 0.345709V1.9145C34.9786 2.03415 34.8855 2.11392 34.7659 2.11392H26.337V7.53821H34.2873C34.4069 7.53821 34.5 7.63127 34.5 7.75092V9.31971C34.5 9.43936 34.4069 9.53243 34.2873 9.53243H26.337V15.0764H35.0052C35.1248 15.0764 35.2179 15.1428 35.2179 15.2758V16.8446C35.2179 16.9908 35.1248 17.0573 35.0052 17.0573H24.2231C24.0901 17.0839 24.0104 17.0041 24.0104 16.8579Z" fill="#313131"/>
        <path d="M41.5462 16.8579V0.345709C41.5462 0.199466 41.6127 0.132996 41.7589 0.132996H47.7283C51.5306 0.132996 53.5381 1.9012 53.5381 5.2249C53.5381 7.31219 52.7404 8.76132 51.2381 9.46595V9.53242H51.7699C53.0329 9.53242 53.5381 10.0376 53.5381 11.2342V16.8844C53.5381 17.0307 53.445 17.0972 53.3254 17.0972H51.4109C51.2913 17.0972 51.1982 17.0307 51.1982 16.8844V10.729H43.8861V16.8844C43.8861 17.0307 43.8196 17.0972 43.6867 17.0972H41.7722C41.626 17.0839 41.5462 17.0041 41.5462 16.8579ZM47.7017 8.69484C50.0283 8.69484 51.1716 7.63126 51.1716 5.39773C51.1716 3.16421 50.0283 2.10062 47.7017 2.10062H43.8728V8.69484H47.7017Z" fill="#313131"/>
        <path d="M59.5208 8.60174C59.5208 3.44336 62.6983 0 67.6174 0C71.2734 0 74.0388 2.18035 74.6237 5.51734C74.6503 5.66359 74.5573 5.73006 74.4243 5.73006H72.5364C72.4168 5.73006 72.3237 5.67688 72.2971 5.53063C71.7653 3.25722 70.17 1.96763 67.6174 1.96763C64.081 1.96763 61.9006 4.53353 61.9006 8.57515C61.9006 12.7231 64.081 15.1827 67.6174 15.1827C70.0902 15.1827 71.7786 14.0659 72.4567 11.6462C72.5099 11.5 72.5231 11.4468 72.6694 11.4468H74.5573C74.6503 11.4468 74.77 11.5133 74.7567 11.7127C74.1318 14.9566 71.4197 17.1636 67.6174 17.1636C62.6717 17.2035 59.5208 13.8798 59.5208 8.60174Z" fill="#313131"/>
        <path d="M91.8804 16.8579V9.42606H83.1856V16.8579C83.1856 17.0041 83.1191 17.0706 82.9862 17.0706H81.0717C80.9255 17.0706 80.859 17.0041 80.859 16.8579V0.345709C80.859 0.199466 80.9255 0.132996 81.0717 0.132996H82.9862C83.1058 0.132996 83.1856 0.199466 83.1856 0.345709V7.44514H91.8804V0.345709C91.8804 0.199466 91.9469 0.132996 92.0798 0.132996H93.9943C94.1405 0.132996 94.207 0.199466 94.207 0.345709V16.8711C94.207 17.0174 94.1405 17.0839 93.9943 17.0839H92.0798C91.9602 17.0839 91.8804 17.0041 91.8804 16.8579Z" fill="#313131"/>
        <path d="M25.0075 44.5509V28.0254C25.0075 27.8792 25.074 27.8127 25.2202 27.8127H31.1497C36.1618 27.8127 39.1931 31.0566 39.1931 36.3613C39.1931 41.6393 36.1884 44.7636 31.1497 44.7636H25.2202C25.0873 44.7636 25.0075 44.6838 25.0075 44.5509ZM31.0168 42.7826C34.6994 42.7826 36.8 40.4561 36.8 36.3613C36.8 32.2399 34.6728 29.7936 31.0168 29.7936H27.3341V42.7826H31.0168Z" fill="#313131"/>
        <path d="M43.3543 36.3613C43.3543 31.1497 46.5584 27.6931 51.3179 27.6931C56.1173 27.6931 59.2815 31.163 59.2815 36.3613C59.2815 41.4665 56.104 44.8832 51.3179 44.8832C46.5185 44.8832 43.3543 41.493 43.3543 36.3613ZM51.3179 42.9023C54.7613 42.9023 56.915 40.363 56.915 36.3613C56.915 32.2665 54.7347 29.674 51.3179 29.674C47.9011 29.674 45.7208 32.2665 45.7208 36.3613C45.7208 40.3497 47.9011 42.9023 51.3179 42.9023Z" fill="#313131"/>
        <path d="M64.1873 44.5509V28.0254C64.1873 27.8792 64.2537 27.8127 64.4 27.8127H66.7266C66.8196 27.8127 66.926 27.8659 66.9925 27.959L75.2086 41.1873H75.3017V28.0387C75.3017 27.8925 75.3682 27.826 75.5011 27.826H77.3358C77.4555 27.826 77.5485 27.8925 77.5485 28.0387V44.5642C77.5485 44.7104 77.4555 44.7769 77.3358 44.7769H75.0092C74.9162 44.7769 74.8098 44.7237 74.7433 44.6306L66.5271 31.4023H66.4341V44.5509C66.4341 44.6971 66.3676 44.7636 66.2347 44.7636H64.4C64.2537 44.7636 64.1873 44.6838 64.1873 44.5509Z" fill="#313131"/>
        <path d="M83.0393 44.5509V28.0254C83.0393 27.8792 83.1058 27.8127 83.252 27.8127H93.7948C93.9145 27.8127 94.0075 27.8792 94.0075 28.0254V29.5942C94.0075 29.7139 93.9145 29.7936 93.7948 29.7936H85.3659V35.2179H93.3162C93.4358 35.2179 93.5289 35.311 93.5289 35.4306V36.9994C93.5289 37.1191 93.4358 37.2121 93.3162 37.2121H85.3659V42.7561H94.0341C94.1538 42.7561 94.2468 42.8225 94.2468 42.9555V44.5243C94.2468 44.6705 94.1538 44.737 94.0341 44.737H83.252C83.1058 44.7636 83.0393 44.6838 83.0393 44.5509Z" fill="#313131"/>
        <path d="M16.4722 29.6873L19.0249 36.5208L15.1029 37.385L15.5948 46H1.84798L2.39306 35.1781L0.0265892 33.5295L0 30.8174C0 30.8174 5.74335 27.1746 5.78324 27.1746H5.79653H6.06243C6.06243 27.2145 6.06243 27.2676 6.07572 27.3075C6.10231 27.5335 6.15549 27.7595 6.23526 27.9723C6.36821 28.278 6.55433 28.5572 6.79364 28.7966C7.03295 29.0359 7.32543 29.222 7.6578 29.3549C7.97688 29.4879 8.32254 29.5543 8.6815 29.5543C9.04046 29.5543 9.37283 29.4879 9.7052 29.3549C10.0376 29.222 10.3168 29.0359 10.5694 28.7966C10.822 28.5572 11.0081 28.278 11.1277 27.9723C11.2208 27.7595 11.274 27.5335 11.2873 27.3075C11.2873 27.2676 11.3006 27.2145 11.3006 27.1746H11.5665H11.5931C11.6197 27.1746 11.6861 27.1746 13.4809 28.1052L14.3983 26.8688L17.4428 28.3445L16.459 29.6607L16.4722 29.6873ZM18.6925 36.3347L16.2861 29.8867L11.0879 36.8931L8.97399 39.7382L8.92081 39.6983L2.63237 35.3376L2.10058 45.774L15.3555 45.7474L14.8503 37.159L14.9832 37.1457L18.6925 36.3347ZM16.2462 29.5278L17.0705 28.4243L14.4913 27.1746L13.7202 28.2116L13.574 28.411L8.56185 35.1515L8.4156 35.3509L8.21618 35.2046L1.19653 30.3653L1.18324 30.352L0.305781 30.9104L0.265896 30.937L0.292485 33.3965L2.61907 35.0185L2.65896 35.0451L8.80116 39.2994L8.9474 39.4058L16.1133 29.7272L16.2462 29.5278ZM8.33584 35.0052L13.3347 28.2913C12.4306 27.826 11.6994 27.4538 11.5798 27.4139H11.5532C11.5266 27.6399 11.4734 27.8526 11.3803 28.0653C11.2341 28.411 11.0347 28.7168 10.7555 28.9827C10.4896 29.2486 10.1705 29.448 9.81156 29.5942C9.4526 29.7405 9.06705 29.807 8.6815 29.807C8.29595 29.807 7.9104 29.7405 7.55144 29.5942C7.19248 29.448 6.87341 29.2486 6.60751 28.9827C6.34162 28.7168 6.1289 28.411 5.98266 28.0653C5.90289 27.8526 5.83641 27.6399 5.80982 27.4139H5.79653C5.54393 27.5335 3.3237 28.9694 1.39595 30.2191L8.33584 35.0052Z" fill="#C4FF33"/>
        <path d="M16.2861 29.8867L18.6925 36.3347L14.97 37.159H14.837L15.3422 45.7474L2.10059 45.774L2.63238 35.3376L8.92082 39.6983L8.974 39.7381L11.0879 36.8931L16.2861 29.8867Z" fill="#C4FF33"/>
        <path d="M17.0705 28.4243L16.2462 29.5277L16.1 29.7272L8.93409 39.4058L8.78785 39.3127L2.64565 35.0451L2.59247 35.0185L0.265878 33.3965L0.239288 30.9503L0.279173 30.9237L1.15663 30.3653H1.16992L8.18958 35.2046L8.4023 35.3376L8.54854 35.1381L13.5607 28.411L13.7069 28.1983L14.478 27.1745L17.0705 28.4243Z" fill="#313131"/>
        <path d="M13.3347 28.2913L8.33589 35.0052L1.396 30.2191C3.32374 28.9694 5.54398 27.5335 5.79658 27.4139H5.80987C5.83646 27.6399 5.88964 27.8526 5.98271 28.0653C6.12895 28.411 6.32837 28.7168 6.60756 28.9827C6.87346 29.2486 7.19253 29.448 7.55149 29.5942C7.91045 29.7405 8.296 29.8069 8.68155 29.8069C9.0671 29.8069 9.45265 29.7405 9.81161 29.5942C10.1706 29.448 10.4896 29.2486 10.7555 28.9827C11.0214 28.7168 11.2342 28.411 11.3804 28.0653C11.4602 27.8526 11.5266 27.6399 11.5532 27.4139H11.5798C11.7128 27.4538 12.4307 27.826 13.3347 28.2913Z" fill="#C4FF33"/>
      </svg>
      <router-link v-if="$route.path === '/'" tag="div" class="header_item" to="/">{{ $t('header.home') }}</router-link>
      <router-link v-else tag="div" class="header_item" to="/calculator">{{ $t('header.calc') }}</router-link>
      <router-link tag="div" class="header_item" to="/models">{{ $t('header.models') }}</router-link>
      <router-link tag="div" class="header_item" to="/service">{{ $t('header.service') }}</router-link>
      <router-link tag="div" class="header_item" to="/contacts">{{ $t('header.contacts') }}</router-link>
    </div>
    <div class="header__right">
      <div class="header__right_item" :class="{active: locale}" @click="isLocale('en')">EN</div>
      <div class="header__right_item" :class="{active: !locale}" @click="isLocale('uk')">УКР</div>
    </div>
  </header>
</template>

<script>
  export default {
    name: "Header",
    data() {
      return {
        locale: false, // en-true / uk-false
      }
    },
    created() {
      const locale = localStorage.getItem('locale');
      if (locale === 'en') {
        this.locale = true;
        this.setLocale('en');
      } else {
        this.locale = false;
        this.setLocale('uk');
      }
    },
    methods: {
      routeHome() {
        this.$router.push('/');
      },
      isLocale(locale) {
        if (this.locale === false) {
          this.setLocale(locale);
          localStorage.setItem('locale', 'en');
          this.$store.dispatch('SET_CHANGE_LOCALE', 'en');
        } else {
          this.setLocale(locale);
          localStorage.setItem('locale', 'uk');
          this.$store.dispatch('SET_CHANGE_LOCALE', 'uk');
        }
        return this.locale = !this.locale
      },
      setLocale(locale) {
        this.$emit('setLocale', locale)
        import(`../locales/${locale}.json`).then((msgs) => {
          this.$i18n.setLocaleMessage(locale, msgs);
          this.$i18n.locale = locale;
        })
      },
    }
  }
</script>

<style scoped>

</style>
